var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;"undefined"!=typeof require&&require;import{I as n}from"./account.fe497442.js";import{_ as i,I as r,a as d,b as o}from"./c-stastic.8d350e1e.js";import{r as c,u as m,a as f,b as u,c as b,t as p,d as g,e as h,f as v,g as x}from"./index.2352b97e.js";import{C as y,a as _}from"./c-table.faeb7708.js";import{_ as w}from"./user-link.69187dfa.js";import{e as j,l as O,o as k,b as L,d as I,m as P,u as q,w as C,t as M,h as T,n as E}from"./vendor.5658d620.js";const F={class:"flex <lg:flex-col-reverse"},H={class:"lg:w-3/5 <lg:w-full"},N={class:"box divide-y"},S=I("h3",{class:"mb-4"},"最近比赛",-1),z={key:0},A={class:"flex flex-1 items-center justify-center"},B=E(" "),D=I("div",{class:"my-4 px-3"},"好像都大家没有参加比赛？",-1),G={class:"text-right <md:mt-4 pt-2"},J=E("→ 更多比赛"),K={class:"lg:w-2/5 <lg:w-full"},Q={class:"lg:ml-4 <lg:mb-4"},R={class:"box divide-y"},U={class:"mb-4"},V={key:0},W=E("总览 "),X={class:"py-4 md:flex md:items-center md:justify-around <md:grid <md:grid-cols-2"},Y={class:"text-right pt-2"},Z=E("→ 历史"),$={class:"box mt-4 divide-y"},ee={class:"font-600"},te={class:"text-right pt-2"},ae=E("→ 更多"),se={class:"box mt-4 divide-y"},le={class:"font-600"},ne={class:"text-right pt-2"},ie=E("→ 更多"),re=j({setup(e){const j=" "+(c/86400).toFixed(0)+" 天",re=m.sort(((e,t)=>t.submissions.length-e.submissions.length)).slice(0,f),de=m.map((e=>((e,n)=>{for(var i in n||(n={}))a.call(n,i)&&l(e,i,n[i]);if(t)for(var i of t(n))s.call(n,i)&&l(e,i,n[i]);return e})({contestsLength:e.contests.filter((({t:e})=>e>=u)).length},e))).sort(((e,t)=>t.contestsLength-e.contestsLength)).slice(0,f);return(e,t)=>{const a=O("router-link");return k(),L("div",F,[I("div",H,[I("div",N,[S,P(q(y),{data:q(b),class:"pt-2"},{columns:C((({row:e})=>[P(q(_),{label:"比赛","mobile-header-class":["min-w-8"]},{default:C((()=>[P(a,{to:e.path},{default:C((()=>[E(M(e.name),1)])),_:2},1032,["to"])])),_:2},1024),P(q(_),{label:"时间",align:"center",width:"10em"},{default:C((()=>[e.startTime?(k(),L("span",z,M(q(g)(e.startTime).value),1)):T("v-if",!0)])),_:2},1024),P(q(_),{label:"人数",align:"center",width:"5em"},{default:C((()=>[I("div",A,[P(q(n)),B,I("span",null,"x "+M(e.participantNumber),1)])])),_:2},1024)])),empty:C((()=>[D])),_:1},8,["data"]),I("div",G,[P(a,{to:{name:"Contests"},class:"text-gray-400 font-thin hover:underline"},{default:C((()=>[J])),_:1})])])]),I("div",K,[I("div",Q,[I("div",R,[I("h3",U,[""!==q(p)?(k(),L("span",V,M(q(p))+" ",1)):T("v-if",!0),W]),I("div",X,[P(q(i),{title:"用户"},{prefix:C((()=>[P(q(n))])),default:C((()=>[E(M(q(m).length),1)])),_:1}),P(q(i),{title:"参与比赛"},{prefix:C((()=>[P(q(r),{class:"text-blue-400"})])),default:C((()=>[E(M(q(h)),1)])),_:1}),P(q(i),{title:"提交"},{prefix:C((()=>[P(q(d),{class:"text-yellow-400"})])),default:C((()=>[E(M(q(v)),1)])),_:1}),P(q(i),{title:"正确提交"},{prefix:C((()=>[P(q(o),{class:"text-red-400"})])),default:C((()=>[E(M(q(x)),1)])),_:1})]),I("div",Y,[P(a,{to:{name:"History"},class:"text-gray-400 font-thin hover:underline"},{default:C((()=>[Z])),_:1})])]),I("div",$,[I("h3",{class:"mb-4"},"最近"+M(j)+"用户提交数"),P(q(y),{data:q(re),mobile:0},{columns:C((({row:e,index:t})=>[P(q(_),{label:"#",width:"2em",align:"center"},{default:C((()=>[I("span",ee,M(t+1),1)])),_:2},1024),P(q(_),{label:"姓名"},{default:C((()=>[P(w,{name:e.name},null,8,["name"])])),_:2},1024),P(q(_),{label:"提交数",width:"6em",align:"center"},{default:C((()=>[I("span",null,M(e.submissions.length),1)])),_:2},1024)])),_:1},8,["data"]),I("div",te,[P(a,{to:{name:"Members"},class:"text-gray-400 font-thin hover:underline"},{default:C((()=>[ae])),_:1})])]),I("div",se,[I("h3",{class:"mb-4"},"最近"+M(j)+"用户比赛数"),P(q(y),{data:q(de),mobile:0},{columns:C((({row:e,index:t})=>[P(q(_),{label:"#",width:"2em",align:"center"},{default:C((()=>[I("span",le,M(t+1),1)])),_:2},1024),P(q(_),{label:"姓名"},{default:C((()=>[P(w,{name:e.name},null,8,["name"])])),_:2},1024),P(q(_),{label:"比赛数",width:"6em",align:"center"},{default:C((()=>[I("span",null,M(e.contestsLength),1)])),_:2},1024)])),_:1},8,["data"]),I("div",ne,[P(a,{to:{name:"Members"},class:"text-gray-400 font-thin hover:underline"},{default:C((()=>[ie])),_:1})])])])])])}}});export{re as default};
