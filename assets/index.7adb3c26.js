var s,e,a=Object.defineProperty,o=("undefined"!=typeof require&&require,(s,e,o)=>(((s,e,o)=>{e in s?a(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o})(s,"symbol"!=typeof e?e+"":e,o),o));import{l as t}from"./load.8c215a92.js";import{s as n}from"./index.58893a9c.js";import{e as i,l as r,o as l,b as d,d as u,F as c,z as m,u as p,G as b,t as y,m as f,w as h,n as v}from"./vendor.5658d620.js";const w=null!=(s=t(JSON.parse('{"keyMaps":[],"stringMaps":[],"data":{"history":{"user":[],"contest":[]}}}')).history)?s:{};class g{constructor(){o(this,"submissions",new Map)}mergeSub(s,e){this.submissions.has(s)?this.submissions.get(s).push(e):this.submissions.set(s,[e])}list(){const s=[];for(const[e,a]of this.submissions)s.push({name:e,newSubmissions:a,newContests:[]});return s}}const S=new Map;for(const F of null!=(e=w.user)?e:[])for(const s of F.newSubmissions){const e=n(s.creationTime).value;S.has(e)||S.set(e,new g),S.get(e).mergeSub(F.name,s)}const j=[...S.entries()].map((s=>({day:s[0],record:s[1]}))).sort(((s,e)=>e.day.localeCompare(s.day))).map((s=>({day:s.day.replace(/(\d+)-0?(\d+)-0?(\d+)/,"$1 年 $2 月 $3 日"),record:s.record})));const x={class:"divide-y"},M=u("h2",{class:"mb-4"},"历史",-1),$={class:"py-4 pl-[8px]"},k={class:"relative timeline"},q={class:"font-bold"},C=v(" 进行了 "),O={class:"font-bold"},T=v(" 次提交"),z=i({setup:s=>(s,e)=>{const a=r("router-link");return l(),d("div",x,[M,u("div",$,[u("div",k,[(l(!0),d(c,null,m(p(j),((s,e)=>(l(),d("div",{key:s.day,class:"relative timeline-item pl-4"},[u("div",{class:"py-4 px-4 border",style:b({borderTopWidth:e>0?0:void 0})},[u("span",q,y(s.day),1),(l(!0),d(c,null,m(s.record.list(),(s=>(l(),d("div",null,[f(a,{to:`/user/${s.name}`},{default:h((()=>[v(y(s.name),1)])),_:2},1032,["to"]),u("span",null,[C,u("span",O,y(s.newSubmissions.length),1),T])])))),256))],4)])))),128))])])])}});export{z as default};
