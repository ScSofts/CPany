import{o as e,b as t,d as a,e as r,p as l,q as n,u as s,s as o,t as i,F as u,z as c,f as d,m as p,w as m,n as f,h}from"./vendor.5658d620.js";import{i as v,V as y,o as g,P as b,p as k,d as x,q as w}from"./index.c92f94ea.js";import{a as _,C as M}from"./c-table.f189dff8.js";import{_ as N}from"./user-link.69187dfa.js";import{_ as T}from"./cf-rating-color.4c2875df.js";import{l as C}from"./load.8c215a92.js";import{_ as q}from"./at-rating-color.4894dc23.js";const A={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},j=[a("path",{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4a8 8 0 0 0-8 8a8 8 0 0 0 8 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18a6 6 0 0 1-6-6a6 6 0 0 1 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"currentColor"},null,-1)];var B={name:"mdi-refresh",render:function(a,r){return e(),t("svg",A,j)}};const O={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},L=[a("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2L9.19 8.62L2 9.24l5.45 4.73L5.82 21L12 17.27z",fill:"currentColor"},null,-1)];var E={name:"mdi-star",render:function(a,r){return e(),t("svg",O,L)}};const I={class:"space-left"},U={key:1},F=r({props:{author:{type:null,required:!0}},setup(r){const p=r,{author:m}=l(p),f=n((()=>{var e,t;return null!=(t=null==(e=null==m?void 0:m.value)?void 0:e.teamUrl)?t:""})),h=()=>{""!==f.value&&window.open(f.value,"_blank")};return(r,l)=>s(v)(s(m).teamName)?(e(),t(u,{key:0},[a("div",null,[a("span",{class:o(""!==s(f)&&"cursor-pointer"),onClick:h},i(s(m).teamName),3)]),a("div",I,[(e(!0),t(u,null,c(s(m).members,((t,a)=>(e(),d(N,{class:o(a>0&&"ml-2"),key:t,name:t},null,8,["class","name"])))),128))])],64)):(e(),t("span",U,i(s(m).members[0]),1))}});const R=C(JSON.parse('{"keyMaps":[],"stringMaps":[["tourist","a"],["Petr","b"],["Benq","c"],["ksun48","d"],["jiangly","e"]],"data":[{"n":"a","h":"a","r":3911},{"n":"b","h":"b","r":3296},{"n":"c","h":"c","r":3583},{"n":"d","h":"d","r":3334},{"n":"e","h":"e","r":3125}]}')),$=new Map(R.map((e=>[e.h,e.n]))),K=new Map(R.map((e=>[e.h,e.r])));function P(e){var t;return null!=(t=$.get(e))?t:e}function S(e){return K.get(e)}const z={class:"space-left"},J=["href"],V={class:"space-left"},W=["href"],Y={key:2},D=r({props:{author:{type:null,required:!0}},setup:r=>(l,n)=>s(v)(r.author.teamName)&&r.author.members.length<=1?(e(),t(u,{key:0},[p(N,{name:r.author.teamName},null,8,["name"]),a("span",z,[(e(!0),t(u,null,c(r.author.members,((a,r)=>(e(),t("a",{key:r,class:"ml-2",href:`https://codeforces.com/profile/${a}`,target:"_blank"},[p(s(T),{rating:s(S)(a)},{default:m((()=>[f(i(a),1)])),_:2},1032,["rating"])],8,J)))),128))])],64)):s(v)(r.author.teamName)?(e(),t(u,{key:1},[a("div",null,[p(N,{name:r.author.teamName},null,8,["name"])]),a("div",V,[(e(!0),t(u,null,c(r.author.members,((a,r)=>(e(),t("a",{key:r,class:o(r>0&&"ml-2"),href:`https://codeforces.com/profile/${a}`,target:"_blank"},[p(s(T),{rating:s(S)(a)},{default:m((()=>[f(i(a),1)])),_:2},1032,["rating"])],10,W)))),128))])],64)):(e(),t("span",Y,i(r.author.members[0]),1))});const G=C(JSON.parse('{"keyMaps":[],"stringMaps":[["tourist","a"],["jiangly","b"]],"data":[{"n":"a","h":"a","r":3969},{"n":"b","h":"b","r":3343}]}'));new Map(G.map((e=>[e.h,e.n])));const H=new Map(G.map((e=>[e.h,e.r])));function Q(e){return H.get(e)}const X={class:"space-left"},Z=["href"],ee={key:1},te=r({props:{author:{type:null,required:!0}},setup:r=>(l,n)=>s(v)(r.author.teamName)?(e(),t(u,{key:0},[p(N,{name:r.author.teamName},null,8,["name"]),a("span",X,[(e(!0),t(u,null,c(r.author.members,((a,r)=>(e(),t("a",{key:r,class:"ml-2 font-bold",href:`https://atcoder.jp/users/${a}`,target:"_blank"},[p(s(q),{rating:s(Q)(a)},{default:m((()=>[f(i(a),1)])),_:2},1032,["rating"])],8,Z)))),128))])],64)):(e(),t("span",ee,i(r.author.members[0]),1))}),ae=a("span",null,"+",-1),re={key:0},le={key:0,class:"text-sm text-gray-400"},ne={key:1},se={class:"text-center font-bold text-red-500"},oe=a("span",null,"-",-1),ie=r({props:{result:{type:null,required:!1},practice:{type:Boolean,required:!1}},setup(r){const c=r,{result:d}=l(c),p=n((()=>{var e,t;return null!=(t=null==(e=null==d?void 0:d.value)?void 0:e.submissionUrl)?t:""})),m=()=>{""!==p.value&&window.open(p.value,"_blank")};function f(e){const t=Math.floor(e/3600),a=Math.floor(e%3600/60);return`${t}:${r=a,(r<10?"0":"")+r}`;var r}return(l,n)=>s(d)?(e(),t(u,{key:0},[s(d).verdict===s(y).OK?(e(),t("div",{key:0,class:o(""!==s(p)&&"cursor-pointer"),onClick:m},[a("div",{class:o(["text-center","font-bold",r.practice?"text-blue-500":"text-green-500"])},[ae,s(d).dirty?(e(),t("span",re,i(s(d).dirty),1)):h("v-if",!0)],2),r.practice?h("v-if",!0):(e(),t("div",le,[a("span",null,i(f(s(d).relativeTime)),1)]))],2)):s(d).dirty?(e(),t("div",ne,[a("div",se,[oe,a("span",null,i(s(d).dirty),1)])])):h("v-if",!0)],2112)):h("v-if",!0)}}),ue={key:0,class:"mt-4 box"},ce={key:0,class:"font-600"},de={key:1,class:"font-600"},pe={class:"flex items-center"},me={key:0},fe=r({props:{contest:{type:null,required:!0}},setup(r){const f=r,{contest:x}=l(f),w=n((()=>x.value.type.startsWith("codeforces"))),N=n((()=>x.value.type.startsWith("atcoder"))),T=e=>e.author.participantType===b.PRACTICE,C=e=>"string"==typeof e?e:String.fromCharCode(65+e),q=n((()=>{var e,t;return null!=(t=null==(e=x.value.problems)?void 0:e.sort(((e,t)=>("string"==typeof e.index?e.index.charCodeAt(0)-65:e.index)-("string"==typeof t.index?t.index.charCodeAt(0)-65:t.index))))?t:[]})),A=n((()=>{var e,t,a;if(g(x.value.problems))return{standings:[],firstBlood:[]};if(g(x.value.standings))return{standings:[],firstBlood:[]};const r=Array(null==(e=x.value.problems)?void 0:e.length);for(const l of x.value.standings){const e=Array(null==(t=x.value.problems)?void 0:t.length);for(const t of l.submissions){const n=t.problemIndex;if(t.verdict===y.OK&&!T(l))if(g(r[n]))r[n]=t;else{r[n].relativeTime>t.relativeTime&&(r[n]=t)}if(g(e[n]))e[n]=t;else{const r=e[n];(null!=(a=null==r?void 0:r.verdict)?a:y.FAILED)!==y.OK&&(e[n]=t)}}Reflect.set(l,"result",e)}return{standings:x.value.standings,firstBlood:r}}));return(r,l)=>s(x).standings?(e(),t("div",ue,[p(s(M),{data:s(A).standings,mobile:1023},{columns:m((({row:r})=>[p(s(_),{label:"#",align:"center",width:"4em"},{default:m((()=>[T(r)?(e(),t("span",de,"-")):(e(),t("span",ce,i(r.rank),1))])),_:2},1024),p(s(_),{label:s(w)?"Handle":""},{default:m((()=>{return[a("div",pe,[(t=r,t.author.participantType===b.OUT_OF_COMPETITION?(e(),d(s(E),{key:0,class:"mr-1 text-sm text-yellow-300 inline-block"})):h("v-if",!0)),a("div",null,[s(w)?(e(),d(D,{key:0,author:r.author},null,8,["author"])):s(N)?(e(),d(te,{key:1,author:r.author},null,8,["author"])):(e(),d(F,{key:2,author:r.author},null,8,["author"]))])])];var t})),_:2},1032,["label"]),p(s(_),{label:"解决",align:"center",width:"4em"},{default:m((()=>[a("span",null,i(r.solved),1)])),_:2},1024),p(s(_),{label:"罚时",align:"center",width:"4em"},{default:m((()=>[T(r)?h("v-if",!0):(e(),t("span",me,i(s(k)(r.penalty).value),1))])),_:2},1024),(e(!0),t(u,null,c(s(q),((t,a)=>{var l,n;return e(),d(s(_),{key:t.index,label:C(t.index),center:"",class:o(s(v)(r)&&s(v)(s(A).firstBlood[a])&&s(v)(r.result[a])&&r.result[a].verdict===s(y).OK&&r.result[a].relativeTime<=(null!=(n=null==(l=s(A).firstBlood[a])?void 0:l.relativeTime)?n:Number.MIN_SAFE_INTEGER)&&"bg-[#E0FFE4]")},{default:m((()=>[p(ie,{result:r.result[a],practice:T(r)},null,8,["result","practice"])])),_:2},1032,["label","class"])})),128))])),_:1},8,["data"])])):h("v-if",!0)}}),he={class:"mb-4 flex items-center"},ve={class:"info-box border-left"},ye={key:0},ge=["href"],be=["href"],ke=r({props:{contest:{type:null,required:!0},dynamic:{type:Boolean,required:!1}},emits:["refresh"],setup:(r,{emit:l})=>(n,o)=>(e(),t("div",null,[a("h2",he,[a("span",null,i(r.contest.name),1),r.dynamic?(e(),d(s(B),{key:0,class:"ml-4 h-8 w-8 p-1 border rounded-full cursor-pointer hover:bg-light-700",onClick:o[0]||(o[0]=e=>l("refresh"))})):h("v-if",!0)]),a("div",ve,[a("p",null," 时间："+i(s(x)(r.contest.startTime).value)+" 至 "+i(s(x)(r.contest.startTime+r.contest.duration).value),1),a("p",null,"时长："+i(s(w)(r.contest.duration).value),1),a("p",null,"人数："+i(r.contest.participantNumber)+" 人",1),r.contest.contestUrl||r.contest.standingsUrl?(e(),t("p",ye,[a("a",{href:r.contest.contestUrl,target:"_blank"},"比赛主页",8,ge),a("a",{href:r.contest.standingsUrl,target:"_blank",class:"ml-2"},"完整榜单",8,be)])):h("v-if",!0)]),p(fe,{contest:r.contest},null,8,["contest"])]))});export{ke as _,P as f,R as h};
